<div style="margin:auto">
    <div data-bind="foreach:userSquares" class="row">
        <div class="col-sm-3">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="col-sm-12 text-center">
                        <h3 data-bind="text:name"></h3>
                    </div>
                    <div class="col-sm-12 text-center">
                        <div class="btn btn-default btn-lg" data-bind="text:displayValue,click:onSquareClick"></div>
                    </div>
                </div>
            </div>


        </div>

    </div>
    @section scripts{
    </div>

    <script src="~/Scripts/vendor/tock.js"></script>
    <script src="~/Scripts/app/model.js"></script>
    <script src="~/Scripts/app/square.js"></script>
    <script>
        var viewModel = {};
        function stopSquares(e) {
            for (var i = 0; i < viewModel.userSquares().length; i++) {

                if (viewModel.userSquares()[i].id() != e.args.id()){
                    viewModel.userSquares()[i].pauseTimer();
              
                }
            }
        }



        $(function () {

            vm.userSquares = [];
            for (var i = 0; i < model.userSquares.length; i++) {
                var item = new Square({ square: model.userSquares[i] });
                vm.userSquares.push(item);


            }
            viewModel = ko.mapping.fromJS(vm);
            ko.applyBindings(viewModel);
            $(document).on('squareClicked', stopSquares);
        });

    </script>
    }
